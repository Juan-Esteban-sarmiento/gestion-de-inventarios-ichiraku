<!DOCTYPE html>
<html lang="es">

<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/Ad_css/Ad_Rlocales.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/Global_css/menu.css') }}">
    <script src="{{ url_for('static', filename='js/Global_js/session_timeout.js') }}"></script>
    <meta charset="UTF-8">
    <title>Ichiraku Ramen - Administracion de locales de venta</title>
</head>

<body>

    <div class="sidebar">
        <div class="user-profile">
            <img src="{{ session.get('foto') or url_for('static', filename='image/default.png') }}" alt="Foto"
                class="user-avatar"
                onerror="this.onerror=null; this.src='{{ url_for('static', filename='image/default.png') }}';">
            <span class="user-name">{{ session.get('nombre', 'Usuario') }}</span>
            <span class="user-role">{{ session.get('role', '') }}</span>
        </div>

        <nav class="menu">
            <button onclick="window.location.href='{{ url_for('Ad_Inicio') }}'" class="menu-button">
                <img src="{{ url_for('static', filename='image/casita.png') }}" alt="Inicio"> Inicio
            </button>
            <button onclick="window.location.href='{{ url_for('Ad_Rempleados') }}'" class="menu-button">
                <img src="{{ url_for('static', filename='image/folder.png') }}" alt="Personal"> Personal
            </button>
            <button onclick="window.location.href='{{ url_for('Ad_Rproductos') }}'" class="menu-button">
                <img src="{{ url_for('static', filename='image/base.png') }}" alt="Productos"> Productos
            </button>
            <button onclick="window.location.href='{{ url_for('Ad_Recetarios') }}'" class="menu-button">
                <img src="{{ url_for('static', filename='image/ramen.png') }}" alt="Recetas"> Recetarios
            </button>
            <button onclick="window.location.href='{{ url_for('Ad_Inventario') }}'" class="menu-button">
                <img src="{{ url_for('static', filename='image/caja.png') }}" alt="Inventario"> Inventario
            </button>
            <button onclick="window.location.href='{{ url_for('Ad_Dinformes') }}'" class="menu-button">
                <img src="{{ url_for('static', filename='image/grafica.png') }}" alt="Reportes"> Reportes
            </button>
            <button onclick="window.location.href='{{ url_for('Ad_Rlocales') }}'" class="menu-button active">
                <img src="{{ url_for('static', filename='image/personas.png') }}" alt="locales"> locales
            </button>
            <button onclick="window.location.href='{{ url_for('Ad_Pnotificaciones') }}'" class="menu-button">
                <img src="{{ url_for('static', filename='image/campana.png') }}" alt="Notificaciones"> Avisos
            </button>
            <button onclick="window.location.href='{{ url_for('Ad_Ceditar') }}'" class="menu-button">
                <img src="{{ url_for('static', filename='image/corazon.png') }}" alt="Editar"> Usuario
            </button>
        </nav>
        <button class="logout-btn" onclick="window.location.href='/logout'">Cerrar sesion</button>
    </div>

    <!-- Contenido principal -->
    <main class="main-content">
        <div class="box-welcome">
            <h1 class="welcome-title">Panel de administracion</h1>
        </div>

        <div class="local-container">

            <!-- Caja izquierda: formulario -->
            <section class="register-box">
                <h2>Registrar local de venta</h2>
                <form id="registerForm" novalidate>
                    <label>Nombre local</label>
                    <input type="text" id="nombre_local" placeholder="Nombre ..." required>

                    <label>Ubicacion</label>
                    <input type="text" id="ubicacion" placeholder="Ubicacion ..." required>

                    <label>ID local</label>
                    <input type="number" id="id_local" name="id_local" readonly
                        style="background-color: #222; color: #fff;">


                    <div class="form-actions">
                        <button type="submit" class="btn">
                            <img class="icon" src="{{ url_for('static', filename='image/mas.png') }}" alt="Guardar">
                            Registrar
                        </button>

                        <input type="file" id="foto_local" name="foto" accept="image/*" style="display: none;">
                        <img id="previewFotoLocal" src="#" alt="Vista previa de la foto"
                            style="display:none; width:60px; height:60px; border-radius:50%; object-fit:cover; margin-left:10px;">
                        <button type="button" class="btn secondary"
                            onclick="document.getElementById('foto_local').click()">
                            <img class="icon" src="{{ url_for('static', filename='image/subir.png') }}" alt="Subir">
                            subir foto
                        </button>


                    </div>
                </form>
            </section>

            <!-- Caja derecha: busqueda -->
            <section class="search-box">
                <h2>Lista de Puntos Venta</h2>

                <!-- Input de busqueda -->
                <label for="buscarLocal" class="sr-only">Buscar punto venta</label>
                <input type="text" id="buscarLocal" placeholder="Buscar por nombre o Direccion..." autocomplete="off">

                <!-- Resultados -->
                <div id="resultLocal" class="result-box">
                    <p>No se ha realizado ninguna busqueda</p>
                </div>
            </section>

        </div>
        <div id="registerMsg" style="color: green; margin-top: 10px;"></div>
    </main>

</body>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="{{ url_for('static', filename='js/Global_js/alertaNinja.js') }}"></script>
<script src="{{ url_for('static', filename='js/Ad_js/Rlocales.js') }}"></script>

</html>